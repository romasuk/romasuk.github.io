{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/script.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Swiper","direction","loop","navigation","nextEl","prevEl","slidesPerView","breakpoints","900","spaceBetween","pagination","el","type","renderCustom","swiper","current","total","concat","freeMode","window","addEventListener","document","body","classList","add","all","screenW","documentElement","clientWidth","dropMenu","querySelector","fixedElements","querySelectorAll","Array","from","filter","elem","getComputedStyle","position","scrollOn","setTimeout","remove","style","paddingRight","forEach","burger","menuOverlay","createElement","scrollW","innerWidth","activeElement","closest","contains","focus","toggle","preventDefault","after","arr","jumpers","map","param","dataset","jumpTo","split","realParent","parentElement","realPrevElem","previousElementSibling","newParent","newPos","screen","alert","jump","jumper","prepend","childElementCount","append","children","itemsInRow","vIndent","list","itemsArr","pathElem","circleElem","animate","pos","getBoundingClientRect","top","setAttribute","getTotalLength","clientHeight","getElementById","beginElement","timeInterval","parseInt","getAttribute","item","index","delay","transitionDelay","draw","offsetWidth","offsetHeight","removeAttribute","Math","round","marginBottom","str","tmpCount","rowLength","hIndent","lineInit"],"mappings":"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","file":"common.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","'use strict';\r\n\r\n/* ===========================\r\n  #SWIPER\r\n============================= */\r\n\r\n// import Swiper, { Navigation, Pagination } from 'swiper';\r\n// Swiper.use([Navigation, Pagination])\r\nconst gallerySlider = new Swiper('.projects-gallery .swiper-container', {\r\n  // Optional parameters\r\n  direction: 'horizontal',\r\n  loop: true,\r\n\r\n  // Navigation arrows\r\n  navigation: {\r\n    nextEl: '.projects-gallery .swiper-button-next',\r\n    prevEl: '.projects-gallery .swiper-button-prev',\r\n  },\r\n\r\n})\r\n\r\nconst teamSlider = new Swiper('.our-team-slider .swiper-container', {\r\n  direction: 'horizontal',\r\n  loop: true,\r\n  slidesPerView: 3,\r\n  breakpoints: {\r\n    // when window width is >= 900px\r\n    900: {\r\n      slidesPerView: 5,\r\n      spaceBetween: 45\r\n    },\r\n  },\r\n  \r\n  pagination: {\r\n    el: '.our-team-slider .swiper-pagination',\r\n    type: 'custom',\r\n    renderCustom: function(swiper, current, total) {\r\n      if(current < 10) {\r\n        current = `0${current}`;\r\n      }\r\n\r\n      if(total < 10) {\r\n        total = `0${total}`;\r\n      }\r\n\r\n      return `<span class=\"swiper-pagination-current\">${current}</span> &mdash; <span class=\"swiper-pagination-total\">${total}</span>`\r\n    }\r\n  },\r\n\r\n  navigation: {\r\n    nextEl: '.our-team-slider .swiper-button-next',\r\n    prevEl: '.our-team-slider .swiper-button-prev',\r\n  }\r\n})\r\n\r\nconst blogPreviewsSlider = new Swiper('.blog-previews .swiper-container', {\r\n  slidesPerView: 'auto',\r\n  freeMode: true,\r\n}) \r\n\r\n/* ===========================\r\n  #SMOTH SCROLL\r\n============================= */\r\n\r\n// import '../../node_modules/smoothscroll-for-websites/SmoothScroll.js';;\r\n\r\n\r\nwindow.addEventListener(\"load\", ()=> {\r\n  document.body.classList.add('page-load');\r\n  let screenW     = document.documentElement.clientWidth,\r\n      pageHeader  = document.querySelector('.page__header'),\r\n      dropMenu    = document.querySelector('.drop-content'),\r\n      topOffset   = 0;\r\n\r\n\r\n\r\n/* ===========================\r\n  #POLYFILLS\r\n============================= */\r\n\r\n\r\n/* ===========================\r\n  #CLOSE PRESENT\r\n============================= */\r\n/*let present = document.querySelector('.present');\r\n\r\nif(present) {\r\n  \r\n  present.onclick = function(e) {\r\n    if(e.target.closest('.present__close-btn')) {\r\n      this.classList.remove('is-visible');\r\n\r\n      topOffset -= present.offsetHeight;\r\n      \r\n      pageHeader.style.top           = `0px`;\r\n      document.body.style.paddingTop = `${topOffset}px`;\r\n\r\n      if(innerWidth < 1100) {\r\n        dropMenu.style.paddingTop = `${topOffset}px`;\r\n      }\r\n\r\n      setTimeout(()=> {\r\n        present.remove();\r\n        present = null;\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n}*/\r\n/* ===========================\r\n  #ADD TOP OFFSET\r\n============================= */\r\n\r\n/*let timer = setTimeout(function isLoad() {\r\n\r\n  if(document.body.classList.contains('page-load')) {\r\n\r\n    if(present) {\r\n      present.classList.add('is-visible');\r\n      topOffset += present.offsetHeight;\r\n\r\n      pageHeader.style.top = `${present.offsetHeight}px`;\r\n    }\r\n\r\n    topOffset += pageHeader.offsetHeight;\r\n    document.body.style.paddingTop = `${topOffset}px`;\r\n\r\n    if(window.innerWidth < 1100) {\r\n      dropMenu.style.paddingTop = `${topOffset}px`;\r\n    }\r\n\r\n\r\n    window.addEventListener('resize', function(e) {\r\n\r\n        if(innerWidth >= 1100) dropMenu.style.paddingTop = '';\r\n\r\n        let currentOffset = pageHeader.offsetHeight;\r\n\r\n\r\n        if(present) {\r\n          currentOffset += present.offsetHeight;\r\n          pageHeader.style.top = `${present.offsetHeight}px`;\r\n        }\r\n\r\n        if(topOffset === currentOffset) return;\r\n\r\n        topOffset = currentOffset;\r\n\r\n        document.body.style.paddingTop = `${topOffset}px`;\r\n\r\n        if(innerWidth < 1100) {\r\n          dropMenu.style.paddingTop = `${topOffset}px`;\r\n        } \r\n\r\n    })  \r\n\r\n    timer = null;\r\n  } else {\r\n    setTimeout(isLoad, 1000);\r\n  }\r\n}, 1000);*/\r\n\r\n\r\n\r\n\r\n\r\n/* ===========================\r\n  #SCROLL  ON/OFF\r\n============================= */\r\n\r\n\r\nlet getFixed = function() {\r\n  let all = document.body.querySelectorAll('*');\r\n\r\n  return  Array.from(all).filter(elem => {\r\n    let bool = getComputedStyle(elem).position === 'fixed';\r\n    return bool;\r\n  })\r\n}\r\n\r\nlet fixedElements = getFixed();\r\n\r\nlet scrollOn = function() {\r\n  setTimeout(()=> {\r\n\r\n    document.body.classList.remove('scroll-off');\r\n    document.body.style.paddingRight = '';\r\n    fixedElements.forEach(elem => {\r\n      elem.style.paddingRight = ``; \r\n    })\r\n  }, 300);\r\n}\r\n\r\n  let scrollOf = function() {\r\n    document.body.classList.add('scroll-off');\r\n    document.body.style.paddingRight = `${scrollW}px`;\r\n    fixedElements.forEach(elem => {elem.style.paddingRight = `${scrollW}px`});\r\n  }\r\n\r\n\r\n/* ===========================\r\n  #BURGER / DROP MENU\r\n============================= */\r\n\r\n\r\nlet burger      = document.querySelector('.burger'),\r\n    menuOverlay = document.createElement('div'),\r\n    scrollW     = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n//Обробляе навігацію через клавішу ТАВ\r\ndocument.addEventListener('keyup', (e) => {\r\n  if(!document.activeElement.closest('.drop-content')) {\r\n    // Фокус покинув останній елемент і преходить знов на burger\r\n    if(e.code === 'Tab' && dropMenu.classList.contains('is-visible')) {\r\n      burger.focus();\r\n    }\r\n  }\r\n})\r\n\r\nwindow.addEventListener('resize', function (e) {\r\n  \r\n  if(innerWidth >= 1100 && burger.classList.contains('is-active')) {\r\n    menuOverlay.classList.remove('is-visible');\r\n    burger.classList.toggle('is-active');\r\n    dropMenu.classList.toggle('is-visible');\r\n    scrollOn();\r\n    \r\n    setTimeout(()=> { \r\n      e.preventDefault();\r\n      menuOverlay.remove(); \r\n    }, 500);\r\n  }\r\n})\r\n\r\nburger.addEventListener('click', function(e) {\r\n  scrollW = window.innerWidth - document.documentElement.clientWidth;\r\n  \r\n  burger.classList.toggle('is-active');\r\n  dropMenu.classList.toggle('is-visible');\r\n\r\n  if(dropMenu.classList.contains('is-visible')) {\r\n    // Додаю overlay\r\n    dropMenu.after(menuOverlay)\r\n    menuOverlay.classList.add('overlay');\r\n    menuOverlay.classList.add('is-visible');\r\n    // Виключаю скролл\r\n    scrollOf();\r\n\r\n  } else {\r\n    //Удаляю overlay\r\n    menuOverlay.classList.remove('is-visible')\r\n    // Включаю скролл\r\n    scrollOn();\r\n\r\n    setTimeout(()=> { \r\n      e.preventDefault();\r\n      menuOverlay.remove(); \r\n    }, 500);\r\n  }\r\n\r\n})\r\n\r\n\r\n/* ===========================\r\n  #MODAL\r\n============================= */\r\n\r\n\r\n\r\n/* ===========================\r\n  #MEDIA JUMPERS\r\n============================= */\r\n// ***\r\n//* Пригаючому иелементу присвоїти атрибут data-jump та data-jump-to\r\n//* В data-jump-to записати строку: \r\n//* \"newParentElementSelector.js-jump afterELementPosition mediaScreenWidth\"\r\n//* newParentElementSelector.js-jump  - батьківський селектор + .js-jump\r\n//* afterELementPosition - після якого елемента вставляти \r\n//* mediaScreenWidth - при якому розширенні переставляти\r\n//* \r\n// ***\r\n  \r\n  let arr = document.querySelectorAll('[data-jump]');\r\n\r\n  let jumpers = Array.from(arr).map(elem => {\r\n\r\n    let param = elem.dataset.jumpTo.split(' ');\r\n    // If in data-jump-to element position <= 0 showed alert(); \r\n    if(+param[1] < 0 || param[1] === '') {\r\n      alert(`Error: bad value in data-jump-to: \"... ${+param[1]} ...\"`)\r\n      return;\r\n    }\r\n    \r\n    return {\r\n      el           : elem,\r\n      realParent   : elem.parentElement,\r\n      realPrevElem : elem.previousElementSibling,\r\n      newParent    : document.querySelector(param[0]),\r\n      newPos       : +param[1],\r\n      screen       : +param[2],\r\n    }\r\n  })\r\n\r\n  function jump() {\r\n    screenW  = window.innerWidth;\r\n\r\n    jumpers.forEach(jumper => {\r\n      if(screenW >= jumper.screen && jumper.el.dataset.jump) {\r\n          // Обробляє прижок в початковий елемент \r\n\r\n          if(!jumper.realPrevElem) {\r\n            jumper.realParent.prepend(jumper.el);\r\n          \r\n          } else {\r\n            jumper.realPrevElem.after(jumper.el);\r\n          }\r\n\r\n          jumper.el.dataset.jump = '';\r\n      }\r\n\r\n      if(screenW < jumper.screen && !jumper.el.dataset.jump) {\r\n        // Обробляє прижок в новий елемент\r\n        \r\n        if(!jumper.newParent.childElementCount) {\r\n          jumper.newParent.append(jumper.el);\r\n        } else if( jumper.newParent.childElementCount < jumper.newPos ) {\r\n          jumper.newParent.append(jumper.el)\r\n\r\n        } else {\r\n          if(jumper.newPos === 0) {\r\n\r\n            jumper.newParent.prepend(jumper.el)\r\n          } else {\r\n            // [jumper.newPos -1] зміщую на одиницю. JS рахує починаючи з 0.\r\n            jumper.newParent.children[jumper.newPos - 1].after(jumper.el);\r\n          }\r\n        }\r\n        \r\n        jumper.el.dataset.jump = 'moved';\r\n      } \r\n      \r\n    })\r\n  }\r\n  jump();\r\n\r\n  window.addEventListener('resize', function(e) {\r\n    // Якщо змінюється висота екрана тоді перериваєм виконання функції\r\n    if(window.innerWidth === screenW) return;\r\n    jump()\r\n  })\r\n\r\n\r\n /* ===========================\r\n    #SVG DRAWIND LINE\r\n  ============================= */\r\n{\r\n  let lineInit = function(elem) {\r\n\r\n    if(!elem) {\r\n      // alert('Sory Mickle, from svg drawing line');\r\n      return;\r\n    }\r\n\r\n    let list               = document.querySelector('.steps__list'),\r\n        itemsArr           = document.querySelectorAll('.steps__item'),\r\n        drawArea           = document.querySelector('.steps__svg-wrap'),\r\n        pathElem           = document.querySelector('.svg__line'),\r\n        circleElem         = document.querySelector('.svg__circle'),\r\n        itemsInRow, \r\n        vIndent,\r\n        hIndent            = 10,\r\n        lineStartPos       = `M 5 0`;\r\n\r\n\r\n    function draw() {\r\n      elem.setAttribute('viewBox', `0 0 ${elem.parentElement.offsetWidth} ${elem.parentElement.offsetHeight}`);\r\n      pathElem.removeAttribute('stroke-dasharray');\r\n      pathElem.removeAttribute('stroke-dashoffset');\r\n      \r\n      itemsInRow  = Math.round(list.offsetWidth / itemsArr[0].offsetWidth), \r\n      vIndent     = parseInt(getComputedStyle(itemsArr[0]).marginBottom);\r\n\r\n      circleElem.setAttribute('cx', '5');\r\n      circleElem.setAttribute('cy', '3');\r\n            \r\n      let str = '';\r\n\r\n      str += `${lineStartPos} v${itemsArr[0].offsetHeight - vIndent/2}`;\r\n\r\n      let tmpCount    =  itemsInRow;\r\n      let rowLength   =  0;\r\n\r\n      itemsArr.forEach((item, i, arr) => {\r\n        \r\n        if(i < arr.length - 1) {\r\n          \r\n          if(i+1 === tmpCount) {\r\n            // обробляє останній елемент ряду\r\n            rowLength += item.offsetWidth - hIndent;\r\n            str += ` h${rowLength} v ${vIndent}`;\r\n            str += ` h${-rowLength} v${arr[i+1].offsetHeight}`;\r\n            \r\n            rowLength = 0;\r\n            tmpCount += itemsInRow;\r\n\r\n          } else {\r\n            // оброб. елемент\r\n            rowLength += item.offsetWidth;\r\n\r\n          }\r\n        } else {\r\n          // одробляе останній елемент в списку\r\n          rowLength += item.offsetWidth - hIndent * 2;\r\n\r\n          str += ` h${rowLength}`\r\n        }\r\n\r\n      });\r\n\r\n      pathElem.setAttribute('d', str);\r\n    };\r\n\r\n    let animate = function() {\r\n      if (list.classList.contains('is-visible')) return;\r\n\r\n      let pos = elem.getBoundingClientRect().top;\r\n\r\n      pathElem.setAttribute('stroke-dasharray', pathElem.getTotalLength());\r\n      pathElem.setAttribute('stroke-dashoffset', pathElem.getTotalLength());\r\n\r\n      if (pos < document.documentElement.clientHeight / 2) {\r\n        let lineAnimate = document.getElementById('line-animate'),\r\n        circleAnimate = document.getElementById('circle-animate');\r\n        circleAnimate.beginElement();\r\n        list.classList.add('is-visible');\r\n      }\r\n\r\n      let timeInterval = parseInt(document.getElementById('line-animate').getAttribute('dur')) / itemsArr.length;\r\n      document.querySelectorAll('.steps__item').forEach(function (item, index) {\r\n        let delay = index * timeInterval;\r\n        item.style.transitionDelay = \"\".concat(delay + .5, \"s\");\r\n      });\r\n    };\r\n\r\n\r\n    draw();\r\n    animate();\r\n\r\n    window.addEventListener('resize', function(e) {\r\n      draw();\r\n    });\r\n\r\n    window.addEventListener('scroll', function (e) {\r\n      animate();\r\n    });\r\n  }\r\n\r\n  lineInit(document.querySelector('.svg'));\r\n\r\n}\r\n\r\n})\r\n\r\n"]}